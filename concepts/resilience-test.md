---
authors: ["tony-Ma-yami"]
reviewers: [""]
---

# 弹性能力与测试

在一个微服务架构的服务群中，一定存在部分服务有着较高的健壮性要求，比如电商中的订单系统，当订单相关的服务出现异常时，一般需要第一时间通知维护人员，这就要求对于服务的异常处理以及监听方面要求很高。从运维方面，我们可以对服务订单服务的相关主机或者云虚拟主机的 CPU，内存等重要指标进行监听，若发现异常，以短信、消息或者邮件的方式告知。另一方面，若程序内部访问异常，那么服务也要第一时间通知到维护人员。而这些异常在开发测试阶段人为干涉或者模拟是一个非常繁杂的工作，而 Istio 提供的非常有效且简洁的配置用来解决这些痛点。它可以做到下面这些弹性能力与测试的方案。

- 超时：对于某些请求，设置它的最大等待响应时间。
- 重试：当请求访问异常时，配置重试策略。
- 熔断：当流量过大时，触发熔断机制保护上游服务。
- 故障注入：对某些请求注入一些故障和异常。
- 流量镜像：同步主服务的流量到镜像服务中去，做一些测试或指标收集。